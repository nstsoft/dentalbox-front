import React, { Component } from 'react';
import * as actions from '../../../store/actions/index';
import { connect } from 'react-redux';
import * as R from 'ramda';


class FullZone extends Component {

    constructor ( props ) {

        super ( props );
        this.index = this.props.t;
        this.colorSet = [ 'none', 'rgb(102, 89, 89)', 'rgb(176, 71, 71)', 'rgb(51, 87, 163)', 'rgb(57, 145, 40)' ];

    };

    changeColor = ( event ) => {
        const { isToothToggleable } = this.props;
        if (!isToothToggleable) return;

        let segment = event.target;
        let code = segment.attributes.seg.value;

        let indexOf = this.colorSet.indexOf ( segment.style.fill ) + 1;

        if ( indexOf === 5 ) {
            indexOf = 0;
        }

        let newColor = this.colorSet[ indexOf ];

        this.props.setZoneValues( {[''+code]:newColor} , this.index, code )

    };

    render () {

        if(! R.isEmpty( this.props.tooth ) ){
            if( this.props.tooth[this.index].implant ||  this.props.tooth[this.index].removed ||   this.props.tooth[this.index].crown ){
                return null
            }

        }


        let style_1 = {
            fill:              R.pathOr( 'none',['tooth',this.index, 'zone', '1'], this.props )  ,
            stroke:           '#000000',
            strokeWidth:      4.19999981,
            strokeLinecap:    'butt',
            strokeLinejoin:   'miter',
            strokeMiterlimit: 4,
            strokeDasharray:  'none',
            strokeOpacity:    1,
        };


        let style_2 = {
            fill:            R.pathOr('none',['tooth',this.index, 'zone', '2'], this.props ),
            stroke:           '#000000',
            strokeWidth:      4.19999981,
            strokeLinecap:    'butt',
            strokeLinejoin:   'miter',
            strokeMiterlimit: 4,
            strokeDasharray:  'none',
            strokeOpacity:    1,
        };


        let style_3 = {
            fill:          R.pathOr('none',['tooth',this.index, 'zone', '3'], this.props ),
            stroke:           '#000000',
            strokeWidth:      4.19999981,
            strokeLinecap:    'butt',
            strokeLinejoin:   'miter',
            strokeMiterlimit: 4,
            strokeDasharray:  'none',
            strokeOpacity:    1,
        };


        let style_4 = {
            fill:              R.pathOr('none',['tooth',this.index, 'zone', '4'], this.props ) ,
            stroke:           '#000000',
            strokeWidth:      4.19999981,
            strokeLinecap:    'butt',
            strokeLinejoin:   'miter',
            strokeMiterlimit: 4,
            strokeDasharray:  'none',
            strokeOpacity:    1,
        };


        let style_5 = {
            fill:              R.pathOr('none',['tooth',this.index, 'zone', '5'], this.props ),
            stroke:           '#000000',
            strokeWidth:      4.19999981,
            strokeLinecap:    'butt',
            strokeLinejoin:   'miter',
            strokeMiterlimit: 4,
            strokeDasharray:  'none',
            strokeOpacity:    1,
        };

        return (

            <svg

                width="201.27232mm"
                height="201.27232mm"
                viewBox="0 0 201.27232 201.27232"
                version="1.1"
            >
                <g transform="translate(-2.9293215,-3.5959897)">
                    <path
                        seg={'1'}
                        onClick={this.changeColor}
                        style={style_1}
                        d="m 139.94569,140.42337 c -9.08079,8.81917 -21.55205,14.05572 -34.20685,14.3631 -13.652049,0.3316 -27.354056,-5.11618 -37.041662,-14.74108 -0.177831,-0.17668 -0.354488,-0.35482 -0.519718,-0.54334 -0.02207,-0.0252 -0.04414,-0.0507 -0.07087,-0.0709 -0.02121,-0.016 -0.04524,-0.0284 -0.07087,-0.0354 -0.03836,-0.0105 -0.07929,-0.009 -0.118118,0 -0.0801,0.0176 -0.152174,0.0627 -0.212611,0.11812 -0.06174,0.0566 -0.112407,0.12405 -0.165365,0.18898 -0.326632,0.40048 -0.74583,0.71277 -1.133792,1.05418 -0.325251,0.28622 -0.630171,0.5946 -0.935443,0.90204 -9.837605,9.90759 -20.350584,19.14448 -29.846129,29.38037 -0.08954,0.0965 -0.179011,0.19315 -0.271807,0.28655 -0.09163,0.0922 -0.186473,0.18126 -0.283974,0.26726 -0.03002,0.0265 -0.06038,0.0528 -0.0871,0.0826 -0.02672,0.0298 -0.04986,0.0635 -0.06324,0.10118 -0.01521,0.0429 -0.01726,0.0899 -0.0092,0.13463 0.008,0.0448 0.02585,0.0874 0.0491,0.12654 0.04648,0.0782 0.113564,0.14162 0.177292,0.20655 0.151934,0.1548 0.288932,0.32346 0.434313,0.48443 0.431313,0.47755 0.933802,0.88461 1.436574,1.28624 18.839924,15.04996 41.980212,25.56677 66.086824,26.12822 25.04126,0.58322 49.92759,-9.89799 67.84862,-27.39775 0.16623,-0.16232 0.33191,-0.32523 0.50113,-0.48443 0.0459,-0.0432 0.0922,-0.0862 0.13363,-0.13364 0.0367,-0.042 0.0694,-0.0872 0.10023,-0.13363 0.0231,-0.0349 0.0454,-0.0709 0.0593,-0.11042 0.0139,-0.0395 0.019,-0.0832 0.007,-0.12344 -0.0101,-0.0352 -0.0325,-0.0661 -0.0604,-0.0898 -0.0279,-0.0237 -0.061,-0.0406 -0.0954,-0.0531 -0.0687,-0.0251 -0.14261,-0.0335 -0.21173,-0.0575 -0.12937,-0.045 -0.23338,-0.14104 -0.33409,-0.23386 -0.81278,-0.74906 -1.67216,-1.44562 -2.50565,-2.17157 -4.12698,-3.5945 -7.58868,-7.88093 -11.48709,-11.72212 -2.11072,-2.07974 -4.34894,-4.02835 -6.42559,-6.14211 -1.8118,-1.84418 -3.49619,-3.80958 -5.29167,-5.66965 -1.28215,-1.32827 -2.62073,-2.6026 -3.86245,-3.96875 -0.31431,-0.34581 -0.6249,-0.70102 -0.85044,-1.1103 -0.0337,-0.0611 -0.0655,-0.12345 -0.10618,-0.18008 -0.0407,-0.0566 -0.0912,-0.10786 -0.15368,-0.13884 -0.0224,-0.0111 -0.0462,-0.0195 -0.0709,-0.0236 -0.0203,-0.003 -0.0413,-0.004 -0.0615,-4e-5 -0.0203,0.004 -0.0399,0.0115 -0.0566,0.0236 -0.0183,0.0133 -0.0325,0.0313 -0.0451,0.05 -0.0126,0.0187 -0.0239,0.0383 -0.0376,0.0563 -0.035,0.046 -0.0858,0.0798 -0.14174,0.0945 z"
                    />
                    <path
                        seg={'2'}
                        onClick={this.changeColor}
                        style={style_2}
                        d="m 171.91048,172.06098 c -11.13237,-9.66111 -21.64293,-20.03862 -31.44507,-31.04702 -0.23597,-0.265 -0.47154,-0.53039 -0.70244,-0.79982 -0.0219,-0.0255 -0.0438,-0.0512 -0.0683,-0.0742 -0.0127,-0.0119 -0.0261,-0.0231 -0.0384,-0.0354 -0.004,-0.004 -0.007,-0.007 -0.01,-0.0118 -10e-4,-0.002 -0.002,-0.005 -0.003,-0.007 -4.3e-4,-0.003 -3.5e-4,-0.005 3.6e-4,-0.008 0.001,-0.004 0.005,-0.008 0.008,-0.0109 0.004,-0.003 0.008,-0.005 0.0122,-0.007 0.0174,-0.009 0.0317,-0.0233 0.0472,-0.0354 0.0168,-0.0131 0.0351,-0.0241 0.0531,-0.0354 0.16769,-0.1049 0.3166,-0.23679 0.46361,-0.36912 5.58954,-5.03148 9.65574,-11.67044 11.92308,-18.84107 2.26735,-7.17063 2.76427,-14.85541 1.77856,-22.311085 -1.46251,-11.062061 -6.2913,-21.773699 -14.17411,-29.671132 -0.10925,-0.109456 -0.2192,-0.218516 -0.31947,-0.336256 -0.0179,-0.02105 -0.0358,-0.04264 -0.0585,-0.05846 -0.0124,-0.0086 -0.026,-0.01542 -0.0383,-0.02418 -0.0123,-0.0088 -0.0236,-0.02 -0.0285,-0.03428 -0.005,-0.01502 -0.003,-0.03193 0.004,-0.04628 0.007,-0.01435 0.0176,-0.02643 0.0293,-0.03724 0.0204,-0.01896 0.0437,-0.03454 0.0668,-0.05011 0.68665,-0.462559 1.32862,-0.987814 1.96276,-1.520094 5.33507,-4.478143 10.18188,-9.500857 15.10073,-14.432555 5.24952,-5.263227 10.59268,-10.43357 15.7689,-15.768902 0.0626,-0.06452 0.12521,-0.129113 0.18346,-0.197578 0.0507,-0.05962 0.0994,-0.123276 0.16536,-0.165364 0.0426,-0.02714 0.092,-0.04446 0.14243,-0.04579 0.0505,-0.0013 0.10187,0.01395 0.14105,0.04579 0.0332,0.02701 0.0564,0.06429 0.0768,0.101973 0.0204,0.03768 0.0387,0.0768 0.065,0.110638 0.033,0.04253 0.0772,0.07501 0.12281,0.103608 0.0456,0.0286 0.0933,0.05395 0.13705,0.08538 0.1327,0.0954 0.2199,0.239762 0.30711,0.377976 0.57333,0.908622 1.29525,1.712272 1.99986,2.523335 15.3897,17.714672 23.81268,41.248542 23.52149,64.712716 -0.29119,23.46418 -9.2196,46.6662 -24.45693,64.5121 -0.49258,0.57691 -0.99157,1.14853 -1.46998,1.73725 -0.44114,0.54285 -0.86461,1.10006 -1.26953,1.67044 z"

                    />
                    <path
                        seg={'3'}
                        onClick={this.changeColor}
                        style={style_3}
                        d="m 67.775862,139.45481 c -0.320476,0.33304 -0.643342,0.66378 -0.968565,0.99218 -0.581836,0.58753 -1.171184,1.16756 -1.759951,1.74814 -9.708309,9.57334 -19.266065,19.3042 -29.243874,28.59632 -0.232713,0.21672 -0.46613,0.43369 -0.675304,0.67321 -0.112401,0.12871 -0.219612,0.26557 -0.360365,0.36246 -0.0343,0.0236 -0.07147,0.0457 -0.09439,0.0805 -0.0099,0.015 -0.0167,0.0318 -0.02604,0.0471 -0.0047,0.008 -0.01,0.015 -0.01644,0.0212 -0.0064,0.006 -0.01403,0.0114 -0.0225,0.0144 -0.01011,0.004 -0.02121,0.004 -0.03169,0.002 -0.01049,-0.002 -0.02039,-0.007 -0.02938,-0.0125 -0.01797,-0.0117 -0.03214,-0.0282 -0.04684,-0.0437 -0.08779,-0.093 -0.200302,-0.15812 -0.30903,-0.22551 -0.427481,-0.26494 -0.819246,-0.58374 -1.194361,-0.91873 -1.129859,-1.00901 -2.114921,-2.168 -3.073599,-3.34087 C 18.25229,153.17172 9.8897055,135.98403 7.205627,117.73847 4.2400505,97.579374 8.3207738,76.665047 17.361869,58.404642 c 3.035635,-6.131108 6.64331,-12.024821 11.22532,-17.105249 1.985012,-2.200936 4.145129,-4.240769 6.41447,-6.1472 0.162127,-0.136199 0.331153,-0.275177 0.534537,-0.334086 0.177902,-0.05153 0.379292,-0.03419 0.534541,0.06681 0.102456,0.06666 0.18048,0.165423 0.241823,0.271147 0.06134,0.105723 0.107563,0.219366 0.159079,0.330211 0.329969,0.709971 0.871817,1.295904 1.403167,1.870887 1.722512,1.863957 3.425512,3.745855 5.144937,5.61266 7.863703,8.537738 16.068287,16.756816 24.449005,24.787653 0.27456,0.263098 0.55214,0.529408 0.755951,0.850445 0.04699,0.07402 0.08992,0.150756 0.141618,0.221571 0.0517,0.07082 0.113129,0.136281 0.189112,0.180029 0.02736,0.01575 0.05645,0.0286 0.08252,0.04642 0.02607,0.01782 0.04954,0.04165 0.05923,0.0717 0.0071,0.02188 0.0063,0.04589 -2.41e-4,0.06793 -0.0065,0.02204 -0.01862,0.04218 -0.03349,0.05971 -0.02974,0.03506 -0.06978,0.05943 -0.108007,0.08497 -0.167298,0.111773 -0.310675,0.255345 -0.448845,0.401601 -0.181727,0.192361 -0.356554,0.391101 -0.531453,0.58969 -1.086837,1.234044 -2.179376,2.465543 -3.173825,3.775181 -1.646731,2.168661 -3.013104,4.536724 -4.276315,6.949008 -1.291492,2.46629 -2.482271,4.991509 -3.407685,7.61718 -1.688405,4.790499 -2.47533,9.888242 -2.405425,14.967091 0.114765,8.33812 2.512383,16.50159 5.746295,24.18789 1.103121,2.62188 2.344194,5.2594 4.34313,7.2831 0.675418,0.68379 1.429743,1.2889 2.071339,2.00452 0.475058,0.52987 0.88464,1.11635 1.369755,1.63702 0.0551,0.0591 0.111416,0.11764 0.175395,0.16704 0.02973,0.023 0.06117,0.044 0.08785,0.0704 0.02667,0.0265 0.04873,0.0594 0.05414,0.0966 0.0012,0.009 0.0016,0.0173 3.8e-4,0.0259 -0.0012,0.009 -0.004,0.017 -0.0088,0.0242 -0.008,0.0122 -0.02092,0.0204 -0.03429,0.0262 -0.01337,0.006 -0.02753,0.01 -0.04088,0.0156 -0.02458,0.0108 -0.04581,0.0282 -0.06452,0.0474 -0.01871,0.0193 -0.03514,0.0406 -0.05241,0.0612 -0.05346,0.0636 -0.115321,0.1202 -0.183475,0.16776 z"
                    />
                    <path
                        seg={'4'}
                        onClick={this.changeColor}
                        style={style_4}
                        d="m 139.47322,68.040932 c -3.15866,-2.948888 -6.69232,-5.495669 -10.48884,-7.559524 -4.52459,-2.459646 -9.41823,-4.230235 -14.45759,-5.291666 -6.04829,-1.27394 -12.3354,-1.523723 -18.426338,-0.472472 -3.326627,0.574151 -6.580954,1.531441 -9.732888,2.740329 -3.971188,1.523103 -7.801571,3.456246 -11.244792,5.953125 -2.117691,1.53566 -4.079599,3.27709 -5.953125,5.102677 -0.09192,0.08957 -0.184103,0.179879 -0.259858,0.283483 -0.03814,0.05216 -0.07398,0.109416 -0.129929,0.14174 -0.0292,0.01687 -0.06216,0.02583 -0.09449,0.03544 -0.0154,0.0046 -0.0308,0.0094 -0.04663,0.01209 -0.01583,0.0027 -0.03223,0.0034 -0.04787,-2.94e-4 -0.01674,-0.0039 -0.03204,-0.01269 -0.04553,-0.02334 -0.0135,-0.01065 -0.02536,-0.0232 -0.03715,-0.03572 C 67.984247,68.370828 67.483779,67.793291 66.973781,67.224496 65.680089,65.781656 64.325127,64.395135 62.96474,63.015 54.059214,53.9802 44.901301,45.197825 35.937108,36.221231 c -0.41147,-0.412039 -0.82454,-0.826841 -1.163294,-1.300475 -0.08262,-0.115512 -0.162396,-0.238471 -0.188986,-0.377976 -0.01187,-0.06227 -0.01268,-0.126871 0,-0.188986 0.0184,-0.09015 0.06478,-0.173008 0.124135,-0.243314 0.05935,-0.07031 0.13145,-0.128818 0.206594,-0.181911 0.236287,-0.166947 0.504101,-0.282836 0.755952,-0.425223 0.780202,-0.441095 1.388633,-1.123762 2.031621,-1.748139 1.384689,-1.344609 2.975998,-2.45384 4.535715,-3.590774 3.646246,-2.65788 7.16282,-5.502153 10.961309,-7.9375 4.108839,-2.634324 8.520631,-4.771782 13.040177,-6.614583 C 74.0015,10.447809 82.12674,8.1346451 90.43081,6.9977669 c 13.0527,-1.7869948 26.46346,-0.631994 39.12053,3.0238091 6.58418,1.901741 12.96984,4.471057 19.0878,7.559524 4.62666,2.33563 9.11387,4.976018 13.22917,8.126488 3.57981,2.740526 6.85985,5.852438 10.01637,9.071428 0.2258,0.230272 0.4513,0.461395 0.69397,0.673815 0.12463,0.109093 0.254,0.213456 0.3675,0.334086 0.043,0.04574 0.0842,0.09443 0.11126,0.151087 0.0271,0.05665 0.0392,0.122504 0.0224,0.183 -0.0119,0.04276 -0.0378,0.0809 -0.0702,0.111223 -0.0324,0.03032 -0.0712,0.05318 -0.11185,0.07111 -0.0812,0.03585 -0.16964,0.05248 -0.25228,0.08494 -0.16736,0.06573 -0.30341,0.193376 -0.41646,0.333195 -0.11305,0.139819 -0.20719,0.294022 -0.31853,0.435205 -0.41981,0.532317 -1.05072,0.843819 -1.60362,1.236123 -0.95945,0.680766 -1.69827,1.619671 -2.47224,2.505652 -1.05728,1.210295 -2.20129,2.341361 -3.34087,3.474503 -2.14421,2.132092 -4.27678,4.275839 -6.41447,6.414468 -2.4049,2.405957 -4.81627,4.805447 -7.21628,7.216278 -2.69998,2.712155 -5.38858,5.44149 -8.27148,7.958354 -0.64134,0.559907 -1.29289,1.109744 -1.98437,1.606399 -0.16694,0.119907 -0.33677,0.237043 -0.51972,0.330729 -0.0879,0.04502 -0.17915,0.08481 -0.25986,0.141743 -0.0286,0.02021 -0.0558,0.04247 -0.0827,0.06496 -0.0233,0.01945 -0.0474,0.03966 -0.0768,0.04725 -0.0196,0.0051 -0.0413,0.0039 -0.0591,-0.0059 -0.0104,-0.0057 -0.0191,-0.0141 -0.0273,-0.02266 -0.008,-0.0086 -0.0162,-0.01746 -0.0258,-0.02459 -0.0127,-0.0095 -0.0276,-0.01555 -0.0413,-0.02363 -0.0157,-0.0093 -0.0297,-0.02133 -0.0413,-0.03543 z"
                    />
                    <path
                        seg={'5'}
                        onClick={this.changeColor}
                        style={style_5}
                        d="m 68.508189,68.796884 c -9.150053,9.338552 -14.477055,22.317691 -14.526802,35.391696 -0.04975,13.074 5.178074,26.09294 14.255133,35.50246 9.248069,9.58679 22.387303,15.30604 35.70564,15.54087 13.31834,0.23483 26.65141,-5.01792 36.23006,-14.27442 9.83814,-9.50727 15.57597,-23.12215 15.51141,-36.80327 C 155.61907,90.473106 149.7533,76.913372 139.82757,67.497589 130.2685,58.42963 117.07531,53.305417 103.90162,53.545061 90.727919,53.784705 77.729474,59.385633 68.508189,68.796884 Z"
                    />
                </g>
            </svg>

        );
    }
}

const mapStateToProps = state => {

    return {
       tooth: state.tooth
    };

};

const mapDispatchToProps = dispatch => {

    return {

        setZoneValues: ( data, index,  segment ) => dispatch( actions.setZoneValues( data, index, segment    ) ),

    };

};

export default connect ( mapStateToProps, mapDispatchToProps ) ( FullZone );